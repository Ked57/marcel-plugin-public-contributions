parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"epB2":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,r,n,o,c,i){try{var a=e[c](i),u=a.value}catch(s){return void r(s)}a.done?t(u):Promise.resolve(u).then(n,o)}function r(e){return function(){var r=this,n=arguments;return new Promise(function(o,c){var i=e.apply(r,n);function a(e){t(i,o,c,a,u,"next",e)}function u(e){t(i,o,c,a,u,"throw",e)}a(void 0)})}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function i(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?a(t):r}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){var e;return n(this,t),(e=i(this,u(t).call(this))).root=document.getElementById("root"),e.interval=null,e}return s(t,Marcel.Plugin),c(t,[{key:"autoScroll",value:function(){var e=this;this.interval=setInterval(function(){window.scrollBy(0,1),window.innerHeight+window.scrollY>=document.body.offsetHeight&&(clearInterval(e.interval),window.scrollBy(0,-window.scrollY),setTimeout(function(){return e.autoScroll()},5e3))},50)}},{key:"fetchData",value:function(){var e=r(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});case 2:if((r=e.sent)&&r.ok){e.next=6;break}return console.error("no response from server"),e.abrupt("return");case 6:return e.next=8,r.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"computeTemplate",value:function(e,t){for(var r=[],n=0,o=Object.keys(e);n<o.length;n++)key=o[n],r.push(e[key]);var c=r.shift();return'\n    <div class="container">\n      <div class="header">\n        '.concat(t,'\n      </div>\n      <div class="info-container">\n        ','<div class="row first">\n            <div class="row-item"><img class="thumbnail" src='.concat(c.avatarUrl,'></div>\n            <div class="row-item">').concat(c.name,'</div>\n            <div class="row-item">').concat(c.count,"</div>\n          </div>"),"\n        ").concat(r.map(function(e){return'<div class="row">\n              <div class="row-item"><img class="thumbnail" src='.concat(e.avatarUrl,'></div>\n              <div class="row-item">').concat(e.name,'</div>\n              <div class="row-item">').concat(e.count,"</div>\n            </div>")}).join(""),"\n      </div>\n    </div>")}},{key:"refresh",value:function(){var e=r(regeneratorRuntime.mark(function e(t,r,n,o,c,i,a){var u,s,l,f,v,p,d,y,m,h,b,w,g,k,x,_,S,j;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.fetchData(t);case 3:for(e.t1=e.sent,e.t2=r,this.root.innerHTML=e.t0.computeTemplate.call(e.t0,e.t1,e.t2),document.body.style.backgroundColor=n,document.body.style.color=o,document.body.style.fontFamily=c,u=document.querySelectorAll(".header"),s=!0,l=!1,f=void 0,e.prev=13,v=u[Symbol.iterator]();!(s=(p=v.next()).done);s=!0)element=p.value,element.style.borderBottom="1px solid ".concat(i),element.style.backgroundColor=n,element.style.color=o;e.next=21;break;case 17:e.prev=17,e.t3=e.catch(13),l=!0,f=e.t3;case 21:e.prev=21,e.prev=22,s||null==v.return||v.return();case 24:if(e.prev=24,!l){e.next=27;break}throw f;case 27:return e.finish(24);case 28:return e.finish(21);case 29:for(d=document.querySelectorAll(".row"),y=!0,m=!1,h=void 0,e.prev=33,b=d[Symbol.iterator]();!(y=(w=b.next()).done);y=!0)element=w.value,element.style.borderTop="1px solid ".concat(i);e.next=41;break;case 37:e.prev=37,e.t4=e.catch(33),m=!0,h=e.t4;case 41:e.prev=41,e.prev=42,y||null==b.return||b.return();case 44:if(e.prev=44,!m){e.next=47;break}throw h;case 47:return e.finish(44);case 48:return e.finish(41);case 49:for(g=document.querySelectorAll(".first"),k=!0,x=!1,_=void 0,e.prev=53,S=g[Symbol.iterator]();!(k=(j=S.next()).done);k=!0)element=j.value,element.style.color=a;e.next=61;break;case 57:e.prev=57,e.t5=e.catch(53),x=!0,_=e.t5;case 61:e.prev=61,e.prev=62,k||null==S.return||S.return();case 64:if(e.prev=64,!x){e.next=67;break}throw _;case 67:return e.finish(64);case 68:return e.finish(61);case 69:console.log("Fetched updated data");case 70:case"end":return e.stop()}},e,this,[[13,17,21,29],[22,,24,28],[33,37,41,49],[42,,44,48],[53,57,61,69],[62,,64,68]])}));return function(t,r,n,o,c,i,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=r(regeneratorRuntime.mark(function e(){var t,r,n,o,c,i,a,u,s,l,f=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r=t.backend_url,n=t.top_message,o=t.body_bg_color,c=t.body_txt_color,i=t.body_font,a=t.row_border_color,u=t.first_txt_color,s=t.stylesvar,l=void 0===s?{}:s,e.next=3,this.refresh(r,n,o,c,i,a,u);case 3:setTimeout(function(){return f.autoScroll()},5e3),setInterval(function(){return f.refresh(r,n,o,c,i,a,u)},360),l["primary-color"]&&(this.root.style.color=l["primary-color"]),l["font-family"]&&(this.root.style.fontFamily=l["font-family"]);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}();Marcel.init(f);
},{}]},{},["epB2"], null)
//# sourceMappingURL=main.67c6670a.js.map